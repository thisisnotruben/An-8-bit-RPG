[gd_resource type="BehaviorTree" load_steps=41 format=3 uid="uid://bmm4llq2i8kce"]

[ext_resource type="BlackboardPlan" uid="uid://dakrpekxvoqk2" path="res://resource/limbo_ai_trees/blackboardplan_character_default.tres" id="1_iw43q"]
[ext_resource type="Script" uid="uid://bklci2awtglue" path="res://resource/limbo_ai_trees/tasks/player/can_melee.gd" id="1_spe64"]
[ext_resource type="Script" uid="uid://b2vhs8l3fwy12" path="res://resource/limbo_ai_trees/tasks/player/can_shoot.gd" id="2_w7c6f"]

[sub_resource type="BBVariant" id="BBVariant_2vhlx"]
type = 2
saved_value = 0
resource_name = "<null>"

[sub_resource type="BTCheckVar" id="BTCheckVar_y61wm"]
variable = &"health_var"
value = SubResource("BBVariant_2vhlx")

[sub_resource type="BBVariant" id="BBVariant_f8l4n"]
type = 2
saved_value = 4
resource_name = "4"

[sub_resource type="BTSetAgentProperty" id="BTSetAgentProperty_b1h55"]
property = &"state"
value = SubResource("BBVariant_f8l4n")

[sub_resource type="BTSequence" id="BTSequence_p4u0q"]
custom_name = "dead"
children = [SubResource("BTCheckVar_y61wm"), SubResource("BTSetAgentProperty_b1h55")]

[sub_resource type="BTCheckTrigger" id="BTCheckTrigger_iw43q"]
variable = &"hurt_var"

[sub_resource type="BTCooldown" id="BTCooldown_xptis"]
duration = 1.0
children = [SubResource("BTCheckTrigger_iw43q")]

[sub_resource type="BBVariant" id="BBVariant_b1h55"]
type = 1
saved_value = false
resource_name = "false"

[sub_resource type="BTSetVar" id="BTSetVar_p4u0q"]
variable = &"hurt_var"
value = SubResource("BBVariant_b1h55")

[sub_resource type="BBVariant" id="BBVariant_i0bge"]
type = 2
saved_value = 6
resource_name = "6"

[sub_resource type="BTSetAgentProperty" id="BTSetAgentProperty_nh1qc"]
property = &"state"
value = SubResource("BBVariant_i0bge")

[sub_resource type="BTSequence" id="BTSequence_lk77b"]
custom_name = "hurt"
children = [SubResource("BTCooldown_xptis"), SubResource("BTSetVar_p4u0q"), SubResource("BTSetAgentProperty_nh1qc")]

[sub_resource type="BBVariant" id="BBVariant_32cym"]
type = 4
saved_value = "idle"
resource_name = "idle"

[sub_resource type="BTCheckVar" id="BTCheckVar_2vhlx"]
variable = &"input_state_var"
value = SubResource("BBVariant_32cym")

[sub_resource type="BBVariant" id="BBVariant_y61wm"]
type = 2
saved_value = 0
resource_name = "0"

[sub_resource type="BTSetAgentProperty" id="BTSetAgentProperty_f8l4n"]
property = &"state"
value = SubResource("BBVariant_y61wm")

[sub_resource type="BTSequence" id="BTSequence_b1h55"]
custom_name = "idle"
children = [SubResource("BTCheckVar_2vhlx"), SubResource("BTSetAgentProperty_f8l4n")]

[sub_resource type="BBVariant" id="BBVariant_6kkfr"]
type = 4
saved_value = "move"
resource_name = "move"

[sub_resource type="BTCheckVar" id="BTCheckVar_ig2lr"]
variable = &"input_state_var"
value = SubResource("BBVariant_6kkfr")

[sub_resource type="BBVariant" id="BBVariant_ig2lr"]
type = 2
saved_value = 1
resource_name = "1"

[sub_resource type="BTSetAgentProperty" id="BTSetAgentProperty_32cym"]
property = &"state"
value = SubResource("BBVariant_ig2lr")

[sub_resource type="BTSequence" id="BTSequence_xptis"]
custom_name = "move"
children = [SubResource("BTCheckVar_ig2lr"), SubResource("BTSetAgentProperty_32cym")]

[sub_resource type="BBVariant" id="BBVariant_w7c6f"]
type = 4
saved_value = "attack"
resource_name = "attack"

[sub_resource type="BTCheckVar" id="BTCheckVar_iw43q"]
variable = &"input_state_var"
value = SubResource("BBVariant_w7c6f")

[sub_resource type="BTCondition" id="BTCondition_w7c6f"]
script = ExtResource("1_spe64")

[sub_resource type="BBVariant" id="BBVariant_iw43q"]
type = 2
saved_value = 2
resource_name = "2"

[sub_resource type="BTSetAgentProperty" id="BTSetAgentProperty_xptis"]
property = &"state"
value = SubResource("BBVariant_iw43q")

[sub_resource type="BTCooldown" id="BTCooldown_w7c6f"]
duration = 1.5
children = [SubResource("BTSetAgentProperty_xptis")]

[sub_resource type="BTSequence" id="BTSequence_6kkfr"]
custom_name = "melee"
children = [SubResource("BTCondition_w7c6f"), SubResource("BTCooldown_w7c6f")]

[sub_resource type="BTCondition" id="BTCondition_iw43q"]
script = ExtResource("2_w7c6f")

[sub_resource type="BBVariant" id="BBVariant_xptis"]
type = 2
saved_value = 3
resource_name = "3"

[sub_resource type="BTSetAgentProperty" id="BTSetAgentProperty_6kkfr"]
property = &"state"
value = SubResource("BBVariant_xptis")

[sub_resource type="BTCooldown" id="BTCooldown_iw43q"]
duration = 1.5
children = [SubResource("BTSetAgentProperty_6kkfr")]

[sub_resource type="BTSequence" id="BTSequence_ig2lr"]
custom_name = "shoot"
children = [SubResource("BTCondition_iw43q"), SubResource("BTCooldown_iw43q")]

[sub_resource type="BTSelector" id="BTSelector_w7c6f"]
children = [SubResource("BTSequence_6kkfr"), SubResource("BTSequence_ig2lr")]

[sub_resource type="BTSequence" id="BTSequence_iw43q"]
custom_name = "attack"
children = [SubResource("BTCheckVar_iw43q"), SubResource("BTSelector_w7c6f")]

[sub_resource type="BTSelector" id="BTSelector_spe64"]
children = [SubResource("BTSequence_p4u0q"), SubResource("BTSequence_lk77b"), SubResource("BTSequence_b1h55"), SubResource("BTSequence_xptis"), SubResource("BTSequence_iw43q")]

[resource]
blackboard_plan = ExtResource("1_iw43q")
root_task = SubResource("BTSelector_spe64")
